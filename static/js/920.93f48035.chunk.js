"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[920],{7920:function(e,n,t){t.r(n),t.d(n,{default:function(){return X}});var r,o,i=t(9434),a=t(5705),s=t(6727),c=t(5985),l=t(8700),d=function(e){return e.phonebook.contacts.items},u=function(e){return e.phonebook.contacts.isLoading},h=function(e){return e.phonebook.contacts.error},x=function(e){return e.phonebook.contacts.items.filter((function(n){return n.name.toLowerCase().includes(e.phonebook.filter.toLowerCase())}))},p=t(1686),m=t(4554),j=t(890),g=t(9860),Z=t(168),f=t(225),b=f.Z.div(r||(r=(0,Z.Z)(["\n  height: 20px;\n"]))),v=f.Z.p(o||(o=(0,Z.Z)(["\n  color: red;\n  margin: 0;\n"]))),k=t(3329),C=function(){var e=(0,i.v9)(d),n=(0,i.v9)(u),t=(0,i.I0)(),r=(0,s.Ry)({name:(0,s.Z_)().required(),number:(0,s.Z_)().required()}),o=function(e){var n=e.name;return(0,k.jsx)(a.Bc,{name:n,render:function(e){return(0,k.jsx)(v,{children:e})}})};return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(a.J9,{initialValues:{name:"",number:""},onSubmit:function(n,r){var o=r.resetForm;e.some((function(e){return e.name===n.name}))?c.Am.error("".concat(n.name," is already in contacts"),{position:"top-center"}):t(l.addContact(n)),o()},validationSchema:r,children:(0,k.jsxs)(m.Z,{component:a.l0,sx:{display:"grid",justifyItems:"center",mx:"auto",my:"30px",padding:"20px"},children:[(0,k.jsx)(j.Z,{variant:"h3",component:"h2",mb:"20px",children:"Phonebook"}),(0,k.jsx)(m.Z,{component:a.gN,type:"text",name:"name",placeholder:"Enter a name",width:"200px",sx:{height:"30px",border:"1px solid",borderRadius:"5px",p:1},required:!0}),(0,k.jsx)(b,{children:(0,k.jsx)(o,{name:"name"})}),(0,k.jsx)(m.Z,{component:a.gN,type:"tel",name:"number",placeholder:"Enter a number",width:"200px",sx:{height:"30px",border:"1px solid",borderRadius:"5px",p:1},required:!0}),(0,k.jsx)(b,{children:(0,k.jsx)(o,{name:"number"})}),(0,k.jsx)(g.Z,{type:"submit",endIcon:(0,k.jsx)(p.Z,{}),loading:n,loadingPosition:"end",variant:"contained",children:"Add contact"})]})})})},w=t(4942),y=t(9439),P=t(2791),_=t(5289),S=t(5201),A=t(7123),I=t(6151),F=function(e){var n=e.id,t=e.open,r=e.close,o=(0,i.I0)();return(0,k.jsxs)(_.Z,{sx:{backgroundColor:"#1976d23b"},open:t,onClose:r,children:[(0,k.jsx)(S.Z,{children:"Are you sure you want to delete this contact?"}),(0,k.jsxs)(A.Z,{children:[(0,k.jsx)(I.Z,{onClick:r,children:"No"}),(0,k.jsx)(I.Z,{onClick:function(){o(l.deleteContact(n)),r()},autoFocus:!0,children:"Yes"})]})]})},N=t(893),q=t(7247),E=t(618),R=t(9653),z=t(8745),L=t(9281),B=t(5527),W=t(9836),D=t(6890),H=t(5855),J=t(3382),M=t(3400),O=t(8582),T=t(6271),V=function(){var e=(0,P.useState)(!1),n=(0,y.Z)(e,2),t=n[0],r=n[1],o=(0,P.useState)(null),a=(0,y.Z)(o,2),s=a[0],d=a[1],p=(0,P.useState)(0),m=(0,y.Z)(p,2),g=m[0],Z=m[1],b=(0,P.useState)(5),v=(0,y.Z)(b,2),C=v[0],_=v[1],S=(0,i.I0)(),A=(0,i.v9)(u),I=(0,i.v9)(h),V=(0,i.v9)(x);if((0,P.useEffect)((function(){S(l.fetchContacts())}),[S]),A)return(0,k.jsx)(N.i,{});if(I)return c.Am.error("Error occurred while fetching contacts",{position:"top-center",autoClose:2e3});var Y=(0,f.Z)(z.Z)((function(e){var n=e.theme;return(0,w.Z)({},"&.".concat(E.Z.head),{backgroundColor:n.palette.primary.main,color:n.palette.common.white})}));return(0,k.jsxs)(k.Fragment,{children:[Boolean(0===V.length)&&(0,k.jsx)(j.Z,{variant:"h5",textAlign:"center",children:"No contacts found."}),(0,k.jsx)(L.Z,{component:B.Z,elevation:16,sx:{width:"70%",mx:"auto",mb:"30px"},children:(0,k.jsxs)(W.Z,{stickyHeader:!0,size:"small",children:[(0,k.jsx)(D.Z,{sx:{backgroundColor:"#1976d285"},children:(0,k.jsxs)(H.Z,{children:[(0,k.jsx)(Y,{children:"Name"}),(0,k.jsx)(Y,{align:"right",children:"Phone"}),(0,k.jsx)(Y,{align:"right",children:"Delete"})]})}),(0,k.jsx)(J.Z,{children:(C>0?V.slice(g*C,g*C+C):V).map((function(e){return(0,k.jsxs)(H.Z,{hover:!0,children:[(0,k.jsx)(Y,{children:e.name}),(0,k.jsx)(Y,{style:{MaxWidth:130},align:"right",children:e.number}),(0,k.jsx)(Y,{style:{maxWidth:100},align:"right",children:(0,k.jsx)(M.Z,{"aria-label":"delete",size:"medium",onClick:function(){r(!0),d(e.id)},children:(0,k.jsx)(q.Z,{fontSize:"inherit"})})})]},e.id)}))}),(0,k.jsx)(O.Z,{children:(0,k.jsx)(H.Z,{children:(0,k.jsx)(T.Z,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:V.length,rowsPerPage:C,page:g,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:function(e,n){Z(n)},onRowsPerPageChange:function(e){_(parseInt(e.target.value)),Z(0)},ActionsComponent:R.Z})})})]})}),(0,k.jsx)(F,{id:s,open:t,close:function(){r(!1)}})]})},Y=t(1714),G=t(7391),K=t(3466),Q=t(5403),U=function(){var e=(0,i.I0)();return(0,k.jsx)(G.Z,{onChange:function(n){var t=n.currentTarget.value;e((0,Y.f)(t))},label:"Find contacts by name",id:"outlined-basic",variant:"outlined",sx:{mx:"auto",mb:"30px",display:"flex",width:"50%"},InputProps:{startAdornment:(0,k.jsx)(K.Z,{position:"start",children:(0,k.jsx)(Q.Z,{})})}})},X=function(){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(C,{}),(0,k.jsx)(U,{}),(0,k.jsx)(V,{})]})}}}]);
//# sourceMappingURL=920.93f48035.chunk.js.map