"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[309],{9309:function(n,e,t){t.r(e),t.d(e,{default:function(){return tn}});var r,i,o,a,s,c=t(9434),l=t(5705),d=t(6727),u=t(5984),h=t(5985),x=t(8700),m=function(n){return n.phonebook.contacts.items},Z=function(n){return n.phonebook.contacts.isLoading},j=function(n){return n.phonebook.contacts.error},p=function(n){return n.phonebook.contacts.items.filter((function(e){return e.name.toLowerCase().includes(n.phonebook.filter.toLowerCase())}))},g=t(1686),f=t(890),b=t(168),v=t(225),C=t(4554),k=t(7391),w=t(9860),P=(0,v.Z)(C.Z)(r||(r=(0,b.Z)(["\n  display: grid;\n  justify-items: center;\n  margin: auto;\n  padding: 20px;\n"]))),y=((0,v.Z)(k.Z)(i||(i=(0,b.Z)(["\n  max-width: 400px;\n"]))),(0,v.Z)(w.Z)(o||(o=(0,b.Z)(["\n  max-width: 200px;\n"])))),_=v.Z.div(a||(a=(0,b.Z)(["\n  height: 20px;\n"]))),S=v.Z.p(s||(s=(0,b.Z)(["\n  color: red;\n  margin: 0;\n"]))),A=t(3329),F=(0,u.x0)(),I=function(){var n=(0,c.v9)(m),e=(0,c.v9)(Z),t=(0,c.I0)(),r=(0,d.Ry)({name:(0,d.Z_)().required(),number:(0,d.Z_)().required()}),i=function(n){var e=n.name;return(0,A.jsx)(l.Bc,{name:e,render:function(n){return(0,A.jsx)(S,{children:n})}})};return(0,A.jsx)(A.Fragment,{children:(0,A.jsx)(l.J9,{initialValues:{name:"",number:""},onSubmit:function(e,r){var i=r.resetForm;n.some((function(n){return n.name===e.name}))?h.Am.error("".concat(e.name," is already in contacts"),{position:"top-center"}):t(x.addContact(e)),i()},validationSchema:r,children:(0,A.jsx)(l.l0,{children:(0,A.jsxs)(P,{children:[(0,A.jsx)(f.Z,{variant:"h3",component:"h2",mb:"20px",children:"Phonebook"}),(0,A.jsx)(l.gN,{id:F,name:"name",label:"Name",variant:"outlined"}),(0,A.jsx)(_,{children:(0,A.jsx)(i,{name:"name"})}),(0,A.jsx)(l.gN,{id:F,name:"number",label:"Phone",type:"tel",variant:"outlined"}),(0,A.jsx)(_,{children:(0,A.jsx)(i,{name:"number"})}),(0,A.jsx)(y,{type:"submit",endIcon:(0,A.jsx)(g.Z,{}),loading:e,loadingPosition:"end",variant:"contained",children:"Add contact"})]})})})})},N=t(9439),L=t(2791),q=t(893),z=t(7247),B=t(9281),E=t(5527),R=t(9836),W=t(6890),D=t(5855),J=t(3994),M=t(3382),O=t(3400),T=t(5289),V=t(5201),Y=t(7123),G=t(6151),H=t(8582),K=t(6271),Q=t(9653),U=function(){var n=(0,L.useState)(!1),e=(0,N.Z)(n,2),t=e[0],r=e[1],i=(0,L.useState)(null),o=(0,N.Z)(i,2),a=o[0],s=o[1],l=(0,L.useState)(0),d=(0,N.Z)(l,2),u=d[0],m=d[1],g=(0,L.useState)(5),b=(0,N.Z)(g,2),v=b[0],C=b[1],k=(0,c.I0)(),w=(0,c.v9)(Z),P=(0,c.v9)(j),y=(0,c.v9)(p);if((0,L.useEffect)((function(){k(x.fetchContacts())}),[k]),w)return(0,A.jsx)(q.i,{});if(P)return h.Am.error("Error occurred while fetching contacts",{position:"top-center",autoClose:2e3});var _=function(){r(!1)};return(0,A.jsxs)(A.Fragment,{children:[Boolean(0===y.length)&&(0,A.jsx)(f.Z,{variant:"h5",textAlign:"center",children:"No contacts found."}),(0,A.jsx)(B.Z,{component:E.Z,elevation:9,sx:{width:"80%",m:"auto"},children:(0,A.jsxs)(R.Z,{"aria-label":"custom pagination table",children:[(0,A.jsx)(W.Z,{sx:{backgroundColor:"#1976d285"},children:(0,A.jsxs)(D.Z,{children:[(0,A.jsx)(J.Z,{children:"Name"}),(0,A.jsx)(J.Z,{align:"right",children:"Phone"}),(0,A.jsx)(J.Z,{align:"right",children:"Delete"})]})}),(0,A.jsx)(M.Z,{children:(v>0?y.slice(u*v,u*v+v):y).map((function(n){return(0,A.jsxs)(D.Z,{hover:!0,children:[(0,A.jsx)(J.Z,{children:n.name}),(0,A.jsx)(J.Z,{style:{MaxWidth:130},align:"right",children:n.number}),(0,A.jsxs)(J.Z,{style:{maxWidth:100},align:"right",children:[(0,A.jsx)(O.Z,{"aria-label":"delete",size:"medium",onClick:function(){r(!0),s(n.id)},children:(0,A.jsx)(z.Z,{fontSize:"inherit"})}),(0,A.jsxs)(T.Z,{sx:{backgroundColor:"#1976d285"},open:t,onClose:_,"aria-labelledby":"alert-dialog-title",children:[(0,A.jsx)(V.Z,{id:"alert-dialog-title",children:"Are you sure you want to delete this contact?"}),(0,A.jsxs)(Y.Z,{children:[(0,A.jsx)(G.Z,{onClick:_,children:"No"}),(0,A.jsx)(G.Z,{onClick:function(){k(x.deleteContact(a)),_()},autoFocus:!0,children:"Yes"})]})]})]})]},n.id)}))}),(0,A.jsx)(H.Z,{children:(0,A.jsx)(D.Z,{children:(0,A.jsx)(K.Z,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:y.length,rowsPerPage:v,page:u,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:function(n,e){m(e)},onRowsPerPageChange:function(n){C(parseInt(n.target.value)),m(0)},ActionsComponent:Q.Z})})})]})})]})},X=t(1714),$=t(3466),nn=t(5403),en=function(){var n=(0,c.I0)();return(0,A.jsx)(k.Z,{onChange:function(e){var t=e.currentTarget.value;n((0,X.f)(t))},label:"Find contacts by name",id:"outlined-basic",variant:"outlined",sx:{mx:"auto",mb:"30px",display:"flex",width:"50%"},InputProps:{startAdornment:(0,A.jsx)($.Z,{position:"start",children:(0,A.jsx)(nn.Z,{})})}})},tn=function(){return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(I,{}),(0,A.jsx)(en,{}),(0,A.jsx)(U,{})]})}}}]);
//# sourceMappingURL=309.83109dae.chunk.js.map